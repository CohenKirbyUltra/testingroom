<html>
    <head>
        <p></p>
        <title>[ | Admin Console | ]</title>
        <style>
            @font-face {
                font-family: Console;
                src: url("src/fonts/Console.ttf");
            }
        </style>
        <style>
            html {
                font-family: Console;
                background-color: rgb(0, 0, 0);
                color: rgb(198, 0, 0);
                border-color: rgb(255, 0, 0);
                border-radius: 4px;
            }

            .Login-Input {
                background-color: rgb(49, 1, 1);
                text-decoration-color: red;
                accent-color: red;
                color: red;
                border-color: red;                
                border-radius: 16px;
                border-width: 4px;
                width: 200px;
                height: 40px;
                font-weight: bold;
            }

            .Login-Input::placeholder {
                color: rgb(192, 62, 62);
            }

            .Login-Button {
                background-color: rgb(49, 1, 1);
                text-decoration-color: red;
                accent-color: red;
                color: red;
                border-color: red;                
                border-radius: 16px;
                border-width: 4px;
                width: 100;
                height: 40;
                font-weight: bold;
            }
            
            .Login-Button::placeholder {
                color: rgb(192, 62, 62);
            }

            div {
                align-content: center;
            }

            .ns {
                color: red;
            }

            .s {
                color: green;
            }
        </style>
    </head>

    <body>
        <script type="module">
            const Menus = new Menu();

            var currentMenu = 0;
            var selection = 0;

            function Menu() {
                this.main = ['data.devs', 'data.subrooms', 'data.settings'];
                this.devs = ['devsMenu'];
                this.subrooms = ['subroomsMenu'];
                this.settings = ['settingMenu'];
            }

            function newElement(type) {
                return document.createElement(type);
            }

            function printBody(text, selected) {
                let x = newElement("p");
                x.innerHTML = text;
                if (selected) {x.class = "s"} else {x.class = "ns"}
                document.body.appendChild(x);
            }

            function clearBody() {
                let y = document.querySelectorAll("p");

                try {
                    y.forEach((element, index) => {
                        document.removeChild(element);
                    });
                } catch (error) {
                    console.log("Aborted Clearance")   
                }
            }

            function getCurrentMenu(int) {
                switch (int) {
                    case 0:
                        return Menus.main;
                        break;
                    case 1:
                        return Menus.dev;
                        break;
                    case 2:
                        return Menus.subrooms;
                        break;
                    case 3:
                        return Menus.settings;
                        break;
                
                    default:
                        break;
                }
            }
            function Update() {
                clearBody();

                let cur = getCurrentMenu(currentMenu);
                cur.forEach((element, index) => {
                    let sel = new Boolean(selection == index);
                    printBody(element, sel);
                });
            }

            function changeSelection(change) {
                if (selection < 0) {
                    selection = 2;
                }

                if (selection > 2) {
                    selection = 0;
                }

                selection += change;
                Update();
            }

            document.body.addEventListener("keydown", (e) => {
                if (e.key === "ArrowUp") {
                    changeSelection(1);
                }
                if (e.key == "ArrowDown") {
                    changeSelection(-1);
                }
            });

            Menus[currentMenu] = (element, index) => {
                printBody(element, (selection == index) ? true : false);
            }  
        </script>
    </body>
</html>